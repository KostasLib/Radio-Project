!function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class o{makeActive(){throw new Error("Method not implemented!")}makeIdle(){throw new Error("Method not implemented!")}killOtherActive(){throw new Error("Method not implemented!")}}class n extends o{makeActive(){this.hasID(),document.getElementById(this.id).classList.add("radio-item-active")}makeIdle(){this.hasID(),document.getElementById(this.id).classList.remove("radio-item-active")}killOtherActive(){this.hasID();const e=document.getElementsByClassName("radio-item-active");for(const t of e)t.classList.remove("radio-item-active")}hasID(){if(!this.hasOwnProperty("_id"))throw new Error("Set radioAnim.id equal to target radioItem.id first.")}set id(e){this._id=e}get id(){return this._id}}class s{constructor(e,t,i){this.id=e.id,this.name=e.name,this.source=e.source,this.img=e.img,this.anim=t,this.anim.id=this.id,this.type=i,this.render(),document.getElementById(this.id).addEventListener("mousedown",()=>{this.interact()})}isValidRadioProps(){}render(){const e=document.createElement("div");e.setAttribute("class","radio-image"),e.style.backgroundImage=`url(${this.img})`;const t=document.createElement("li");t.setAttribute("class","radio-item"),t.setAttribute("id",this.id),t.setAttribute("data-name",this.name),t.setAttribute("data-content","pause"),t.appendChild(e),document.getElementById(`${this.type}-radios`).appendChild(t)}interact(){const e=document.getElementsByTagName("audio")[0];console.log(`Loading ${this.name}...`),this.setAudioSource(e),e.paused?this.startAudio(e):this.pauseAudio(e),console.log(`Player paused? ${e.paused}`)}setAudioSource(e){e.src!==this.source&&(e.src=this.source,this.anim.killOtherActive())}startAudio(e){this.anim.makeActive(),e.play().then(()=>console.log(`Playing ${this.name}...`)).catch(e=>{console.log(`Failed to load radio... ${e}.`),console.log(this),this.anim.makeIdle()})}pauseAudio(e){this.anim.makeIdle(),e.pause()}}const r=new class extends o{makeActive(){document.getElementById("play-button").classList.add("play-button-active"),document.getElementById("play-button-wrapper").classList.add("play-button-wrapper-active")}makeIdle(){document.getElementById("play-button").classList.remove("play-button-active"),document.getElementById("play-button-wrapper").classList.remove("play-button-wrapper-active")}};!function(){const e=new XMLHttpRequest;e.open("GET","https://kostaslib.github.io/chillout/src/radios.json"),e.responseType="json",e.send(),e.onload=(()=>{!function(e){const t=e.response;for(let e of t.music)new s(e,new n,"music");for(const e of t.news)new s(e,new n,"news")}(e)})}(),setTimeout(()=>{const e=function(e,t){const i=document.getElementsByClassName(e);let o=[];!function(){if(i.length<1)throw new Error(`No elements of class '${e}' found.`);for(let e of i)if(!e.hasAttribute(t))throw new Error(`No ${t} assigned to this element.`)}();for(let e of i)o.push(e.getAttribute(t));return o}("radio-item","id");console.log(`Radio IDs: ${e}`)},5e3),function(){const e=document.getElementsByTagName("audio")[0];document.getElementById("play-button").addEventListener("mousedown",()=>{if(""===e.src)return alert("Select a radio first!");e.paused?(e.play(),r.makeActive()):(e.pause(),r.makeIdle(),document.querySelector(".radio-item.radio-item-active").classList.remove("radio-item-active"))})}()}]);